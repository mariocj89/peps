<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">202</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">List Comprehensions</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0202.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">barry&#32;&#97;t&#32;python.org (Barry Warsaw)</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Final</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">13-Jul-2000</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">2.0</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#the-proposed-solution" id="id4">The Proposed Solution</a></li>
<li><a class="reference internal" href="#rationale" id="id5">Rationale</a></li>
<li><a class="reference internal" href="#examples" id="id6">Examples</a></li>
<li><a class="reference internal" href="#reference-implementation" id="id7">Reference Implementation</a></li>
<li><a class="reference internal" href="#bdfl-pronouncements" id="id8">BDFL Pronouncements</a></li>
<li><a class="reference internal" href="#references" id="id9">References</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id3">Introduction</a></h1>
<p>This PEP describes a proposed syntactical extension to Python, list
comprehensions.</p>
</div>
<div class="section" id="the-proposed-solution">
<h1><a class="toc-backref" href="#id4">The Proposed Solution</a></h1>
<p>It is proposed to allow conditional construction of list literals using for and
if clauses.  They would nest in the same way for loops and if statements nest
now.</p>
</div>
<div class="section" id="rationale">
<h1><a class="toc-backref" href="#id5">Rationale</a></h1>
<p>List comprehensions provide a more concise way to create lists in situations
where <tt class="docutils literal">map()</tt> and <tt class="docutils literal">filter()</tt> and/or nested loops would currently be used.</p>
</div>
<div class="section" id="examples">
<h1><a class="toc-backref" href="#id6">Examples</a></h1>
<pre class="literal-block">
&gt;&gt;&gt; print [i for i in range(10)]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

&gt;&gt;&gt; print [i for i in range(20) if i%2 == 0]
[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

&gt;&gt;&gt; nums = [1, 2, 3, 4]
&gt;&gt;&gt; fruit = [&quot;Apples&quot;, &quot;Peaches&quot;, &quot;Pears&quot;, &quot;Bananas&quot;]
&gt;&gt;&gt; print [(i, f) for i in nums for f in fruit]
[(1, 'Apples'), (1, 'Peaches'), (1, 'Pears'), (1, 'Bananas'),
 (2, 'Apples'), (2, 'Peaches'), (2, 'Pears'), (2, 'Bananas'),
 (3, 'Apples'), (3, 'Peaches'), (3, 'Pears'), (3, 'Bananas'),
 (4, 'Apples'), (4, 'Peaches'), (4, 'Pears'), (4, 'Bananas')]
&gt;&gt;&gt; print [(i, f) for i in nums for f in fruit if f[0] == &quot;P&quot;]
[(1, 'Peaches'), (1, 'Pears'),
 (2, 'Peaches'), (2, 'Pears'),
 (3, 'Peaches'), (3, 'Pears'),
 (4, 'Peaches'), (4, 'Pears')]
&gt;&gt;&gt; print [(i, f) for i in nums for f in fruit if f[0] == &quot;P&quot; if i%2 == 1]
[(1, 'Peaches'), (1, 'Pears'), (3, 'Peaches'), (3, 'Pears')]
&gt;&gt;&gt; print [i for i in zip(nums, fruit) if i[0]%2==0]
[(2, 'Peaches'), (4, 'Bananas')]
</pre>
</div>
<div class="section" id="reference-implementation">
<h1><a class="toc-backref" href="#id7">Reference Implementation</a></h1>
<p>List comprehensions become part of the Python language with release 2.0,
documented in <a class="footnote-reference" href="#id2" id="id1">[1]</a>.</p>
</div>
<div class="section" id="bdfl-pronouncements">
<h1><a class="toc-backref" href="#id8">BDFL Pronouncements</a></h1>
<ul class="simple">
<li>The syntax proposed above is the Right One.</li>
<li>The form <tt class="docutils literal">[x, y for <span class="pre">...]</span></tt> is disallowed; one is required to write
<tt class="docutils literal">[(x, y) for <span class="pre">...]</span></tt>.</li>
<li>The form <tt class="docutils literal"><span class="pre">[...</span> for <span class="pre">x...</span> for <span class="pre">y...]</span></tt> nests, with the last index
varying fastest, just like nested for loops.</li>
</ul>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id9">References</a></h1>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://docs.python.org/reference/expressions.html#list-displays">http://docs.python.org/reference/expressions.html#list-displays</a></td></tr>
</tbody>
</table>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
End: -->
</div>

