<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">566</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Metadata for Python Software Packages 1.3</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0566.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Dustin Ingram &lt;di&#32;&#97;t&#32;di.codes&gt;</td>
</tr>
<tr class="field"><th class="field-name">BDFL-Delegate:</th><td class="field-body">Daniel Holth</td>
</tr>
<tr class="field"><th class="field-name">Discussions-To:</th><td class="field-body">distutils-sig &lt;distutils-sig at python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">1-Dec-2017</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">3.x</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
<tr class="field"><th class="field-name">Replaces:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0345">345</a></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id7">Abstract</a></li>
<li><a class="reference internal" href="#fields" id="id8">Fields</a><ul>
<li><a class="reference internal" href="#new-in-version-1-3" id="id9">New in Version 1.3</a><ul>
<li><a class="reference internal" href="#description-content-type-optional" id="id10">Description-Content-Type (optional)</a></li>
<li><a class="reference internal" href="#provides-extra-optional-multiple-use" id="id11">Provides-Extra (optional, multiple use)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changed-in-version-1-3" id="id12">Changed in Version 1.3</a><ul>
<li><a class="reference internal" href="#name" id="id13">Name</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#version-specifiers" id="id14">Version Specifiers</a></li>
<li><a class="reference internal" href="#environment-markers" id="id15">Environment markers</a></li>
<li><a class="reference internal" href="#json-compatible-metadata" id="id16">JSON-compatible Metadata</a></li>
<li><a class="reference internal" href="#summary-of-differences-from-pep-345" id="id17">Summary of Differences From PEP 345</a></li>
<li><a class="reference internal" href="#references" id="id18">References</a></li>
<li><a class="reference internal" href="#copyright" id="id19">Copyright</a></li>
<li><a class="reference internal" href="#acknowledgements" id="id20">Acknowledgements</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id7">Abstract</a></h1>
<p>This PEP describes the changes between versions 1.2 and 1.3 of the core
metadata specification for Python packages. Version 1.2 is specified in <a class="reference external" href="/dev/peps/pep-0345">PEP
345</a>.</p>
<p>It also changes to the canonical source for field specifications to the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core
Metadata Specification</a> <a class="footnote-reference" href="#id1" id="id2">[1]</a> reference document, which includes specifics of the
field names, and their semantics and usage.</p>
</div>
<div class="section" id="fields">
<h1><a class="toc-backref" href="#id8">Fields</a></h1>
<p>The canonical source for the names and semantics of each of the supported
metadata fields is the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata Specification</a> <a class="footnote-reference" href="#id1" id="id3">[1]</a> document.</p>
<p>Fields marked with &quot;(Multiple use)&quot; may be specified multiple times in a single
PKG-INFO file.  Other fields may only occur once in a PKG-INFO file.  Fields
marked with &quot;(optional)&quot; are not required to appear in a valid PKG-INFO file;
all other fields must be present.</p>
<div class="section" id="new-in-version-1-3">
<h2><a class="toc-backref" href="#id9">New in Version 1.3</a></h2>
<div class="section" id="description-content-type-optional">
<h3><a class="toc-backref" href="#id10">Description-Content-Type (optional)</a></h3>
<p>A string stating the markup syntax (if any) used in the distribution's
description, so that tools can intelligently render the description.</p>
<p>Historically, tools like PyPI assume that a package's description is formatted
in <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html">reStructuredText (reST)</a>, and
fall back on plain text if the description is not valid reST.</p>
<p>The introduction of this field allows PyPI to support additional types of
markup syntax, and not need to make this assumption.</p>
<p>The full specification for this field is defined in the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata
Specification</a> <a class="footnote-reference" href="#id1" id="id4">[1]</a>.</p>
</div>
<div class="section" id="provides-extra-optional-multiple-use">
<h3><a class="toc-backref" href="#id11">Provides-Extra (optional, multiple use)</a></h3>
<p>A string containing the name of an optional feature. Must be a valid Python
identifier. May be used to make a dependency conditional on whether the
optional feature has been requested.</p>
<p>This introduction of this field allows package installation tools (such as
<tt class="docutils literal">pip</tt>) to determine which extras are provided by a given package, and so that
package publication tools (such as <tt class="docutils literal">twine</tt>) can check for issues with
environment markers which use extras.</p>
<p>The full specification for this field is defined in the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata
Specification</a> <a class="footnote-reference" href="#id1" id="id5">[1]</a>.</p>
</div>
</div>
<div class="section" id="changed-in-version-1-3">
<h2><a class="toc-backref" href="#id12">Changed in Version 1.3</a></h2>
<div class="section" id="name">
<h3><a class="toc-backref" href="#id13">Name</a></h3>
<p>The specification for the format of this field is now identical to the
distribution name specification defined in <a class="reference external" href="/dev/peps/pep-0508">PEP 508</a>.</p>
</div>
</div>
</div>
<div class="section" id="version-specifiers">
<h1><a class="toc-backref" href="#id14">Version Specifiers</a></h1>
<p>Version numbering requirements and the semantics for specifying comparisons
between versions are defined in <a class="reference external" href="/dev/peps/pep-0440">PEP 440</a>.</p>
<p>Following <a class="reference external" href="/dev/peps/pep-0508">PEP 508</a>, version specifiers no longer need to be surrounded by
parentheses in the fields Requires-Dist, Provides-Dist, Obsoletes-Dist or
Requires-External, so e.g. <tt class="docutils literal">requests &gt;= 2.8.1</tt> is now a valid value.
The recommended format is without parentheses, but tools parsing metadata should
also be able to handle version specifiers in parentheses.</p>
<p>Usage of version specifiers is otherwise unchanged from <a class="reference external" href="/dev/peps/pep-0345">PEP 345</a>.</p>
</div>
<div class="section" id="environment-markers">
<h1><a class="toc-backref" href="#id15">Environment markers</a></h1>
<p>An <strong>environment marker</strong> is a marker that can be added at the end of a
field after a semi-colon (&quot;;&quot;), to add a condition about the execution
environment.</p>
<p>The environment marker format used to declare such a condition is defined in
the environment markers section of <a class="reference external" href="/dev/peps/pep-0508">PEP 508</a>.</p>
<p>Usage of environment markers is otherwise unchanged from <a class="reference external" href="/dev/peps/pep-0345">PEP 345</a>.</p>
</div>
<div class="section" id="json-compatible-metadata">
<h1><a class="toc-backref" href="#id16">JSON-compatible Metadata</a></h1>
<p>It may be necessary to store metadata in a data structure which does not
allow for multiple repeated keys, such as JSON.</p>
<p>The canonical method to transform metadata fields into such a data structure is
as follows:</p>
<ol class="arabic simple">
<li>The original key-value format should be read with
<tt class="docutils literal">email.parser.HeaderParser</tt>;</li>
<li>All transformed keys should be reduced to lower case, but otherwise should
retain all other characters;</li>
<li>The transformed value for any field marked with &quot;(Multiple-use&quot;) should be a
single list containing all the original values for the given key;</li>
<li>The <tt class="docutils literal">Keywords</tt> field should be converted to a list by splitting the
original value on whitespace characters;</li>
<li>The result should be stored as a string-keyed dictionary.</li>
</ol>
</div>
<div class="section" id="summary-of-differences-from-pep-345">
<h1>Summary of Differences From <a class="reference external" href="/dev/peps/pep-0345">PEP 345</a></h1>
<ul class="simple">
<li>Metadata-Version is now 1.3.</li>
<li>Fields are now specified via the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">Core Metadata Specification</a> <a class="footnote-reference" href="#id1" id="id6">[1]</a>.</li>
<li>Added two new fields: <tt class="docutils literal"><span class="pre">Description-Content-Type</span></tt> and <tt class="docutils literal"><span class="pre">Provides-Extra</span></tt></li>
<li>Acceptable values for the <tt class="docutils literal">Name</tt> field are now specified as per <a class="reference external" href="/dev/peps/pep-0508">PEP 508</a>.</li>
<li>Added canonical method of transformation into JSON-compatible data structure.</li>
</ul>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id18">References</a></h1>
<p>This document specifies version 1.3 of the metadata format.
Version 1.0 is specified in <a class="reference external" href="/dev/peps/pep-0241">PEP 241</a>.
Version 1.1 is specified in <a class="reference external" href="/dev/peps/pep-0314">PEP 314</a>.
Version 1.2 is specified in <a class="reference external" href="/dev/peps/pep-0345">PEP 345</a>.</p>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>, <a class="fn-backref" href="#id4">3</a>, <a class="fn-backref" href="#id5">4</a>, <a class="fn-backref" href="#id6">5</a>)</em> <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/">https://packaging.python.org/specifications/core-metadata/</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id19">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
</div>
<div class="section" id="acknowledgements">
<h1><a class="toc-backref" href="#id20">Acknowledgements</a></h1>
<p>Thanks to Nick Coghlan for contributing to this PEP.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 80
End: -->
</div>

