<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">217</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Display Hook for Interactive Use</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0217.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">moshez&#32;&#97;t&#32;zadka.site.co.il (Moshe Zadka)</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Final</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">31-Jul-2000</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">2.1</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id2">Abstract</a></li>
<li><a class="reference internal" href="#interface" id="id3">Interface</a></li>
<li><a class="reference internal" href="#solution" id="id4">Solution</a></li>
<li><a class="reference internal" href="#jython-issues" id="id5">Jython Issues</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id2">Abstract</a></h1>
<p>Python's interactive mode is one of the implementation's great
strengths -- being able to write expressions on the command line
and get back a meaningful output.  However, the output function
cannot be all things to all people, and the current output
function too often falls short of this goal.  This PEP describes a
way to provides alternatives to the built-in display function in
Python, so users will have control over the output from the
interactive interpreter.</p>
</div>
<div class="section" id="interface">
<h1><a class="toc-backref" href="#id3">Interface</a></h1>
<p>The current Python solution has worked for many users, and this
should not break it. Therefore, in the default configuration,
nothing will change in the REPL loop. To change the way the
interpreter prints interactively entered expressions, users
will have to rebind <tt class="docutils literal">sys.displayhook</tt> to a callable object.
The result of calling this object with the result of the
interactively entered expression should be print-able,
and this is what will be printed on <tt class="docutils literal">sys.stdout</tt>.</p>
</div>
<div class="section" id="solution">
<h1><a class="toc-backref" href="#id4">Solution</a></h1>
<p>The bytecode <tt class="docutils literal">PRINT_EXPR</tt> will call <tt class="docutils literal"><span class="pre">sys.displayhook(POP())</span></tt>.
A <tt class="docutils literal">displayhook()</tt> will be added to the sys builtin module, which is
equivalent to:</p>
<pre class="literal-block">
import __builtin__
def displayhook(o):
    if o is None:
        return
    __builtin__._ = None
    print `o`
    __builtin__._ = o
</pre>
</div>
<div class="section" id="jython-issues">
<h1><a class="toc-backref" href="#id5">Jython Issues</a></h1>
<p>The method <tt class="docutils literal">Py.printResult</tt> will be similarly changed.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
End: -->
</div>

