<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">469</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Migration of dict iteration code to Python 3</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0469.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Nick Coghlan &lt;ncoghlan&#32;&#97;t&#32;gmail.com&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Withdrawn</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">2014-04-18</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">3.5</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">2014-04-18, 2014-04-21</td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id2">Abstract</a></li>
<li><a class="reference internal" href="#pep-withdrawal" id="id3">PEP Withdrawal</a></li>
<li><a class="reference internal" href="#mapping-iteration-models" id="id4">Mapping iteration models</a><ul>
<li><a class="reference internal" href="#lists-as-mutable-snapshots" id="id5">Lists as mutable snapshots</a></li>
<li><a class="reference internal" href="#iterator-objects" id="id6">Iterator objects</a></li>
<li><a class="reference internal" href="#set-based-dynamic-views" id="id7">Set based dynamic views</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migrating-directly-to-python-3" id="id8">Migrating directly to Python 3</a></li>
<li><a class="reference internal" href="#migrating-to-the-common-subset-of-python-2-and-3" id="id9">Migrating to the common subset of Python 2 and 3</a></li>
<li><a class="reference internal" href="#migrating-from-python-3-to-the-common-subset-with-python-2-7" id="id10">Migrating from Python 3 to the common subset with Python 2.7</a></li>
<li><a class="reference internal" href="#possible-changes-to-python-3-5" id="id11">Possible changes to Python 3.5+</a></li>
<li><a class="reference internal" href="#discussion" id="id12">Discussion</a></li>
<li><a class="reference internal" href="#acknowledgements" id="id13">Acknowledgements</a></li>
<li><a class="reference internal" href="#copyright" id="id14">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id2">Abstract</a></h1>
<p>For Python 3, <a class="reference external" href="/dev/peps/pep-3106">PEP 3106</a> changed the design of the <tt class="docutils literal">dict</tt> builtin and the
mapping API in general to replace the separate list based and iterator based
APIs in Python 2 with a merged, memory efficient set and multiset view
based API. This new style of dict iteration was also added to the Python 2.7
<tt class="docutils literal">dict</tt> type as a new set of iteration methods.</p>
<p>This means that there are now 3 different kinds of dict iteration that may
need to be migrated to Python 3 when an application makes the transition:</p>
<ul class="simple">
<li>Lists as mutable snapshots: <tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.items())</span></tt></li>
<li>Iterator objects: <tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.items())</span></tt></li>
<li>Set based dynamic views: <tt class="docutils literal">d.viewitems()</tt> -&gt; <tt class="docutils literal">d.items()</tt></li>
</ul>
<p>There is currently no widely agreed best practice on how to reliably convert
all Python 2 dict iteration code to the common subset of Python 2 and 3,
especially when test coverage of the ported code is limited. This PEP
reviews the various ways the Python 2 iteration APIs may be accessed, and
looks at the available options for migrating that code to Python 3 by way of
the common subset of Python 2.6+ and Python 3.0+.</p>
<p>The PEP also considers the question of whether or not there are any
additions that may be worth making to Python 3.5 that may ease the
transition process for application code that doesn't need to worry about
supporting earlier versions when eventually making the leap to Python 3.</p>
</div>
<div class="section" id="pep-withdrawal">
<h1><a class="toc-backref" href="#id3">PEP Withdrawal</a></h1>
<p>In writing the second draft of this PEP, I came to the conclusion that
the readability of hybrid Python 2/3 mapping code can actually be best
enhanced by better helper functions rather than by making changes to
Python 3.5+. The main value I now see in this PEP is as a clear record
of the recommended approaches to migrating mapping iteration code from
Python 2 to Python 3, as well as suggesting ways to keep things readable
and maintainable when writing hybrid code that supports both versions.</p>
<p>Notably, I recommend that hybrid code avoid calling mapping iteration
methods directly, and instead rely on builtin functions where possible,
and some additional helper functions for cases that would be a simple
combination of a builtin and a mapping method in pure Python 3 code, but
need to be handled slightly differently to get the exact same semantics in
Python 2.</p>
<p>Static code checkers like pylint could potentially be extended with an
optional warning regarding direct use of the mapping iteration methods in
a hybrid code base.</p>
</div>
<div class="section" id="mapping-iteration-models">
<h1><a class="toc-backref" href="#id4">Mapping iteration models</a></h1>
<p>Python 2.7 provides three different sets of methods to extract the keys,
values and items from a <tt class="docutils literal">dict</tt> instance, accounting for 9 out of the
18 public methods of the <tt class="docutils literal">dict</tt> type.</p>
<p>In Python 3, this has been rationalised to just 3 out of 11 public methods
(as the <tt class="docutils literal">has_key</tt> method has also been removed).</p>
<div class="section" id="lists-as-mutable-snapshots">
<h2><a class="toc-backref" href="#id5">Lists as mutable snapshots</a></h2>
<p>This is the oldest of the three styles of dict iteration, and hence the
one implemented by the <tt class="docutils literal">d.keys()</tt>, <tt class="docutils literal">d.values()</tt> and <tt class="docutils literal">d.items()</tt>
methods in Python 2.</p>
<p>These methods all return lists that are snapshots of the state of the
mapping at the time the method was called. This has a few consequences:</p>
<ul class="simple">
<li>the original object can be mutated freely without affecting iteration
over the snapshot</li>
<li>the snapshot can be modified independently of the original object</li>
<li>the snapshot consumes memory proportional to the size of the original
mapping</li>
</ul>
<p>The semantic equivalent of these operations in Python 3 are
<tt class="docutils literal"><span class="pre">list(d.keys())</span></tt>, <tt class="docutils literal"><span class="pre">list(d.values())</span></tt> and <tt class="docutils literal"><span class="pre">list(d.iteritems())</span></tt>.</p>
</div>
<div class="section" id="iterator-objects">
<h2><a class="toc-backref" href="#id6">Iterator objects</a></h2>
<p>In Python 2.2, <tt class="docutils literal">dict</tt> objects gained support for the then-new iterator
protocol, allowing direct iteration over the keys stored in the dictionary,
thus avoiding the need to build a list just to iterate over the dictionary
contents one entry at a time. <tt class="docutils literal">iter(d)</tt> provides direct access to the
iterator object for the keys.</p>
<p>Python 2 also provides a <tt class="docutils literal">d.iterkeys()</tt> method that is essentially
synonymous with <tt class="docutils literal">iter(d)</tt>, along with <tt class="docutils literal">d.itervalues()</tt> and
<tt class="docutils literal">d.iteritems()</tt> methods.</p>
<p>These iterators provide live views of the underlying object, and hence may
fail if the set of keys in the underlying object is changed during
iteration:</p>
<pre class="literal-block">
&gt;&gt;&gt; d = dict(a=1)
&gt;&gt;&gt; for k in d:
...     del d[k]
...
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
RuntimeError: dictionary changed size during iteration
</pre>
<p>As iterators, iteration over these objects is also a one-time operation:
once the iterator is exhausted, you have to go back to the original mapping
in order to iterate again.</p>
<p>In Python 3, direct iteration over mappings works the same way as it does
in Python 2. There are no method based equivalents - the semantic equivalents
of <tt class="docutils literal">d.itervalues()</tt> and <tt class="docutils literal">d.iteritems()</tt> in Python 3 are
<tt class="docutils literal"><span class="pre">iter(d.values())</span></tt> and <tt class="docutils literal"><span class="pre">iter(d.iteritems())</span></tt>.</p>
<p>The <tt class="docutils literal">six</tt> and <tt class="docutils literal">future.utils</tt> compatibility modules also both provide
<tt class="docutils literal">iterkeys()</tt>, <tt class="docutils literal">itervalues()</tt> and <tt class="docutils literal">iteritems()</tt> helper functions that
provide efficient iterator semantics in both Python 2 and 3.</p>
</div>
<div class="section" id="set-based-dynamic-views">
<h2><a class="toc-backref" href="#id7">Set based dynamic views</a></h2>
<p>The model that is provided in Python 3 as a method based API is that of set
based dynamic views (technically multisets in the case of the <tt class="docutils literal">values()</tt>
view).</p>
<p>In Python 3, the objects returned by <tt class="docutils literal">d.keys()</tt>, <tt class="docutils literal">d.values()</tt> and
<tt class="docutils literal">d. items()</tt> provide a live view of the current state of
the underlying object, rather than taking a full snapshot of the current
state as they did in Python 2. This change is safe in many circumstances,
but does mean that, as with the direct iteration API, it is necessary to
avoid adding or removing keys during iteration, in order to avoid
encountering the following error:</p>
<pre class="literal-block">
&gt;&gt;&gt; d = dict(a=1)
&gt;&gt;&gt; for k, v in d.items():
...     del d[k]
...
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
RuntimeError: dictionary changed size during iteration
</pre>
<p>Unlike the iteration API, these objects are iterables, rather than iterators:
you can iterate over them multiple times, and each time they will iterate
over the entire underlying mapping.</p>
<p>These semantics are also available in Python 2.7 as the <tt class="docutils literal">d.viewkeys()</tt>,
<tt class="docutils literal">d.viewvalues()</tt> and <tt class="docutils literal">d.viewitems()</tt> methods.</p>
<p>The <tt class="docutils literal">future.utils</tt> compatibility module also provides
<tt class="docutils literal">viewkeys()</tt>, <tt class="docutils literal">viewvalues()</tt> and <tt class="docutils literal">viewitems()</tt> helper functions
when running on Python 2.7 or Python 3.x.</p>
</div>
</div>
<div class="section" id="migrating-directly-to-python-3">
<h1><a class="toc-backref" href="#id8">Migrating directly to Python 3</a></h1>
<p>The <tt class="docutils literal">2to3</tt> migration tool handles direct migrations to Python 3 in
accordance with the semantic equivalents described above:</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.keys())</span></tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.values())</span></tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.items())</span></tt></li>
<li><tt class="docutils literal">d.iterkeys()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.keys())</span></tt></li>
<li><tt class="docutils literal">d.itervalues()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.values())</span></tt></li>
<li><tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.items())</span></tt></li>
<li><tt class="docutils literal">d.viewkeys()</tt> -&gt; <tt class="docutils literal">d.keys()</tt></li>
<li><tt class="docutils literal">d.viewvalues()</tt> -&gt; <tt class="docutils literal">d.values()</tt></li>
<li><tt class="docutils literal">d.viewitems()</tt> -&gt; <tt class="docutils literal">d.items()</tt></li>
</ul>
<p>Rather than 9 distinct mapping methods for iteration, there are now only the
3 view methods, which combine in straightforward ways with the two relevant
builtin functions to cover all of the behaviours that are available as
<tt class="docutils literal">dict</tt> methods in Python 2.7.</p>
<p>Note that in many cases <tt class="docutils literal">d.keys()</tt> can be replaced by just <tt class="docutils literal">d</tt>, but the
<tt class="docutils literal">2to3</tt> migration tool doesn't attempt that replacement.</p>
<p>The <tt class="docutils literal">2to3</tt> migration tool also <em>does not</em> provide any automatic assistance
for migrating references to these objects as bound or unbound methods - it
only automates conversions where the API is called immediately.</p>
</div>
<div class="section" id="migrating-to-the-common-subset-of-python-2-and-3">
<h1><a class="toc-backref" href="#id9">Migrating to the common subset of Python 2 and 3</a></h1>
<p>When migrating to the common subset of Python 2 and 3, the above
transformations are not generally appropriate, as they all either result in
the creation of a redundant list in Python 2, have unexpectedly different
semantics in at least some cases, or both.</p>
<p>Since most code running in the common subset of Python 2 and 3 supports
at least as far back as Python 2.6, the currently recommended approach to
conversion of mapping iteration operation depends on two helper functions
for efficient iteration over mapping values and mapping item tuples:</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal">list(d)</tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal">list(itervalues(d))</tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal">list(iteritems(d))</tt></li>
<li><tt class="docutils literal">d.iterkeys()</tt> -&gt; <tt class="docutils literal">iter(d)</tt></li>
<li><tt class="docutils literal">d.itervalues()</tt> -&gt; <tt class="docutils literal">itervalues(d)</tt></li>
<li><tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal">iteritems(d)</tt></li>
</ul>
<p>Both <tt class="docutils literal">six</tt> and <tt class="docutils literal">future.utils</tt> provide appropriate definitions of
<tt class="docutils literal">itervalues()</tt> and <tt class="docutils literal">iteritems()</tt> (along with essentially redundant
definitions of <tt class="docutils literal">iterkeys()</tt>). Creating your own definitions of these
functions in a custom compatibility module is also relatively
straightforward:</p>
<pre class="literal-block">
try:
    dict.iteritems
except AttributeError:
    # Python 3
    def itervalues(d):
        return iter(d.values())
    def iteritems(d):
        return iter(d.items())
else:
    # Python 2
    def itervalues(d):
        return d.itervalues()
    def iteritems(d):
        return d.iteritems()
</pre>
<p>The greatest loss of readability currently arises when converting code that
actually <em>needs</em> the list based snapshots that were the default in Python
2. This readability loss could likely be mitigated by also providing
<tt class="docutils literal">listvalues</tt> and <tt class="docutils literal">listitems</tt> helper functions, allowing the affected
conversions to be simplified to:</p>
<ul class="simple">
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal">listvalues(d)</tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal">listitems(d)</tt></li>
</ul>
<p>The corresponding compatibility function definitions are as straightforward
as their iterator counterparts:</p>
<pre class="literal-block">
try:
    dict.iteritems
except AttributeError:
    # Python 3
    def listvalues(d):
        return list(d.values())
    def listitems(d):
        return list(d.items())
else:
    # Python 2
    def listvalues(d):
        return d.values()
    def listitems(d):
        return d.items()
</pre>
<p>With that expanded set of compatibility functions, Python 2 code would
then be converted to &quot;idiomatic&quot; hybrid 2/3 code as:</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal">list(d)</tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal">listvalues(d)</tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal">listitems(d)</tt></li>
<li><tt class="docutils literal">d.iterkeys()</tt> -&gt; <tt class="docutils literal">iter(d)</tt></li>
<li><tt class="docutils literal">d.itervalues()</tt> -&gt; <tt class="docutils literal">itervalues(d)</tt></li>
<li><tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal">iteritems(d)</tt></li>
</ul>
<p>This compares well for readability with the idiomatic pure Python 3
code that uses the mapping methods and builtins directly:</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal">list(d)</tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.values())</span></tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.items())</span></tt></li>
<li><tt class="docutils literal">d.iterkeys()</tt> -&gt; <tt class="docutils literal">iter(d)</tt></li>
<li><tt class="docutils literal">d.itervalues()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.values())</span></tt></li>
<li><tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal"><span class="pre">iter(d.items())</span></tt></li>
</ul>
<p>It's also notable that when using this approach, hybrid code would <em>never</em>
invoke the mapping methods directly: it would always invoke either a
builtin or helper function instead, in order to ensure the exact same
semantics on both Python 2 and 3.</p>
</div>
<div class="section" id="migrating-from-python-3-to-the-common-subset-with-python-2-7">
<h1><a class="toc-backref" href="#id10">Migrating from Python 3 to the common subset with Python 2.7</a></h1>
<p>While the majority of migrations are currently from Python 2 either directly
to Python 3 or to the common subset of Python 2 and Python 3, there are also
some migrations of newer projects that start in Python 3 and then later
add Python 2 support, either due to user demand, or to gain access to
Python 2 libraries that are not yet available in Python 3 (and porting them
to Python 3 or creating a Python 3 compatible replacement is not a trivial
exercise).</p>
<p>In these cases, Python 2.7 compatibility is often sufficient, and the 2.7+
only view based helper functions provided by <tt class="docutils literal">future.utils</tt> allow the bare
accesses to the Python 3 mapping view methods to be replaced with code that
is compatible with both Python 2.7 and Python 3 (note, this is the only
migration chart in the PEP that has Python 3 code on the left of the
conversion):</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal">viewkeys(d)</tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal">viewvalues(d)</tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal">viewitems(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">list(d.keys())</span></tt> -&gt; <tt class="docutils literal">list(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">list(d.values())</span></tt> -&gt; <tt class="docutils literal">listvalues(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">list(d.items())</span></tt> -&gt; <tt class="docutils literal">listitems(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">iter(d.keys())</span></tt> -&gt; <tt class="docutils literal">iter(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">iter(d.values())</span></tt> -&gt; <tt class="docutils literal">itervalues(d)</tt></li>
<li><tt class="docutils literal"><span class="pre">iter(d.items())</span></tt> -&gt; <tt class="docutils literal">iteritems(d)</tt></li>
</ul>
<p>As with migrations from Python 2 to the common subset, note that the hybrid
code ends up never invoking the mapping methods directly - it only calls
builtins and helper methods, with the latter addressing the semantic
differences between Python 2 and Python 3.</p>
</div>
<div class="section" id="possible-changes-to-python-3-5">
<h1><a class="toc-backref" href="#id11">Possible changes to Python 3.5+</a></h1>
<p>The main proposal put forward to potentially aid migration of existing
Python 2 code to Python 3 is the restoration of some or all of the
alternate iteration APIs to the Python 3 mapping API. In particular,
the initial draft of this PEP proposed making the following conversions
possible when migrating to the common subset of Python 2 and Python 3.5+:</p>
<ul class="simple">
<li><tt class="docutils literal">d.keys()</tt> -&gt; <tt class="docutils literal">list(d)</tt></li>
<li><tt class="docutils literal">d.values()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.itervalues())</span></tt></li>
<li><tt class="docutils literal">d.items()</tt> -&gt; <tt class="docutils literal"><span class="pre">list(d.iteritems())</span></tt></li>
<li><tt class="docutils literal">d.iterkeys()</tt> -&gt; <tt class="docutils literal">d.iterkeys()</tt></li>
<li><tt class="docutils literal">d.itervalues()</tt> -&gt; <tt class="docutils literal">d.itervalues()</tt></li>
<li><tt class="docutils literal">d.iteritems()</tt> -&gt; <tt class="docutils literal">d.iteritems()</tt></li>
</ul>
<p>Possible mitigations of the additional language complexity in Python 3
created by restoring these methods included immediately deprecating them,
as well as potentially hiding them from the <tt class="docutils literal">dir()</tt> function (or perhaps
even defining a way to make <tt class="docutils literal">pydoc</tt> aware of function deprecations).</p>
<p>However, in the case where the list output is actually desired, the end
result of that proposal is actually less readable than an appropriately
defined helper function, and the function and method forms of the iterator
versions are pretty much equivalent from a readability perspective.</p>
<p>So unless I've missed something critical, readily available <tt class="docutils literal">listvalues()</tt>
and <tt class="docutils literal">listitems()</tt> helper functions look like they will improve the
readability of hybrid code more than anything we could add back to the
Python 3.5+ mapping API, and won't have any long term impact on the
complexity of Python 3 itself.</p>
</div>
<div class="section" id="discussion">
<h1><a class="toc-backref" href="#id12">Discussion</a></h1>
<p>The fact that 5 years in to the Python 3 migration we still have users
considering the dict API changes a significant barrier to migration suggests
that there are problems with previously recommended approaches. This PEP
attempts to explore those issues and tries to isolate those cases where
previous advice (such as it was) could prove problematic.</p>
<p>My assessment (largely based on feedback from Twisted devs) is that
problems are most likely to arise when attempting to use <tt class="docutils literal">d.keys()</tt>,
<tt class="docutils literal">d.values()</tt>, and <tt class="docutils literal">d.items()</tt> in hybrid code. While superficially it
seems as though there should be cases where it is safe to ignore the
semantic differences, in practice, the change from &quot;mutable snapshot&quot; to
&quot;dynamic view&quot; is significant enough that it is likely better
to just force the use of either list or iterator semantics for hybrid code,
and leave the use of the view semantics to pure Python 3 code.</p>
<p>This approach also creates rules that are simple enough and safe enough that
it should be possible to automate them in code modernisation scripts that
target the common subset of Python 2 and Python 3, just as <tt class="docutils literal">2to3</tt> converts
them automatically when targeting pure Python 3 code.</p>
</div>
<div class="section" id="acknowledgements">
<h1><a class="toc-backref" href="#id13">Acknowledgements</a></h1>
<p>Thanks to the folks at the Twisted sprint table at PyCon for a very
vigorous discussion of this idea (and several other topics), and especially
to Hynek Schlawack for acting as a moderator when things got a little too
heated :)</p>
<p>Thanks also to JP Calderone and Itamar Turner-Trauring for their email
feedback, as well to the participants in the <a class="reference external" href="https://mail.python.org/pipermail/python-dev/2014-April/134168.html">python-dev review</a> of
the initial version of the PEP.</p>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id14">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End: -->
</div>

