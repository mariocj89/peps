<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">295</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Interpretation of multiline string constants</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0295.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">yozh&#32;&#97;t&#32;mx1.ru (Stepan Koltsov)</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Rejected</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">22-Jul-2002</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">3.0</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id2">Abstract</a></li>
<li><a class="reference internal" href="#rationale" id="id3">Rationale</a></li>
<li><a class="reference internal" href="#implementation" id="id4">Implementation</a></li>
<li><a class="reference internal" href="#alternatives" id="id5">Alternatives</a></li>
<li><a class="reference internal" href="#copyright" id="id6">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id2">Abstract</a></h1>
<p>This PEP describes an interpretation of multiline string constants
for Python.  It suggests stripping spaces after newlines and
stripping a newline if it is first character after an opening
quotation.</p>
</div>
<div class="section" id="rationale">
<h1><a class="toc-backref" href="#id3">Rationale</a></h1>
<p>This PEP proposes an interpretation of multiline string constants
in Python.  Currently, the value of string constant is all the
text between quotations, maybe with escape sequences substituted,
e.g.:</p>
<pre class="literal-block">
def f():
    &quot;&quot;&quot;
    la-la-la
    limona, banana
    &quot;&quot;&quot;

def g():
    return &quot;This is \
    string&quot;

print repr(f.__doc__)
print repr(g())
</pre>
<p>prints:</p>
<pre class="literal-block">
'\n\tla-la-la\n\tlimona, banana\n\t'
'This is \tstring'
</pre>
<p>This PEP suggest two things:</p>
<ul class="simple">
<li>ignore the first character after opening quotation, if it is
newline</li>
<li>ignore in string constants all spaces and tabs up to
first non-whitespace character, but no more than current
indentation.</li>
</ul>
<p>After applying this, previous program will print:</p>
<pre class="literal-block">
'la-la-la\nlimona, banana\n'
'This is string'
</pre>
<p>To get this result, previous programs could be rewritten for
current Python as (note, this gives the same result with new
strings meaning):</p>
<pre class="literal-block">
def f():
    &quot;&quot;&quot;\
la-la-la
limona, banana
&quot;&quot;&quot;

def g():
  &quot;This is \
string&quot;
</pre>
<p>Or stripping can be done with library routines at runtime (as
pydoc does), but this decreases program readability.</p>
</div>
<div class="section" id="implementation">
<h1><a class="toc-backref" href="#id4">Implementation</a></h1>
<p>I'll say nothing about CPython, Jython or Python.NET.</p>
<p>In original Python, there is no info about the current indentation
(in spaces) at compile time, so space and tab stripping should be
done at parse time.  Currently no flags can be passed to the
parser in program text (like <tt class="docutils literal">from __future__ import xxx</tt>).  I
suggest enabling or disabling of this feature at Python compile
time depending of CPP flag <tt class="docutils literal">Py_PARSE_MULTILINE_STRINGS</tt>.</p>
</div>
<div class="section" id="alternatives">
<h1><a class="toc-backref" href="#id5">Alternatives</a></h1>
<p>New interpretation of string constants can be implemented with flags
'i' and 'o' to string constants, like:</p>
<pre class="literal-block">
i&quot;&quot;&quot;
SELECT * FROM car
WHERE model = 'i525'
&quot;&quot;&quot; is in new style,

o&quot;&quot;&quot;SELECT * FROM employee
WHERE birth &lt; 1982
&quot;&quot;&quot; is in old style, and

&quot;&quot;&quot;
SELECT employee.name, car.name, car.price FROM employee, car
WHERE employee.salary * 36 &gt; car.price
&quot;&quot;&quot; is in new style after Python-x.y.z and in old style otherwise.
</pre>
<p>Also this feature can be disabled if string is raw, i.e. if flag 'r'
specified.</p>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id6">Copyright</a></h1>
<p>This document has been placed in the Public Domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
</div>

