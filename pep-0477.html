<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">477</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Backport ensurepip (<a class="reference external" href="/dev/peps/pep-0453">PEP 453</a>) to Python 2.7</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0477.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Donald Stufft &lt;donald&#32;&#97;t&#32;stufft.io&gt;
Nick Coghlan &lt;ncoghlan&#32;&#97;t&#32;gmail.com&gt;</td>
</tr>
<tr class="field"><th class="field-name">BDFL-Delegate:</th><td class="field-body">Benjamin Peterson &lt;benjamin&#32;&#97;t&#32;python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Final</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">26-Aug-2014</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">1-Sep-2014</td>
</tr>
<tr class="field"><th class="field-name">Resolution:</th><td class="field-body"><a class="reference external" href="https://mail.python.org/pipermail/python-dev/2014-September/136238.html">https://mail.python.org/pipermail/python-dev/2014-September/136238.html</a></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id7">Abstract</a></li>
<li><a class="reference internal" href="#rationale" id="id8">Rationale</a></li>
<li><a class="reference internal" href="#automatic-invocation" id="id9">Automatic Invocation</a></li>
<li><a class="reference internal" href="#documentation" id="id10">Documentation</a></li>
<li><a class="reference internal" href="#disabling-ensurepip-by-downstream-distributors" id="id11">Disabling ensurepip by Downstream Distributors</a></li>
<li><a class="reference internal" href="#references" id="id12">References</a></li>
<li><a class="reference internal" href="#copyright" id="id13">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id7">Abstract</a></h1>
<p>This PEP proposes that the <tt class="docutils literal">ensurepip</tt> module, added to Python 3.4 by <a class="reference external" href="/dev/peps/pep-0453">PEP
453</a>, be backported to Python 2.7. It also proposes that automatic invocation
of <tt class="docutils literal">ensurepip</tt> be added to the Python 2.7 Windows and OSX installers. However
it does <strong>not</strong> propose that automatic invocation be added to the <tt class="docutils literal">Makefile</tt>.</p>
<p>It also proposes that the documentation changes for the package distribution
and installation guides be updated to match that in 3.4, which references using
the <tt class="docutils literal">ensurepip</tt> module to bootstrap the installer.</p>
</div>
<div class="section" id="rationale">
<h1><a class="toc-backref" href="#id8">Rationale</a></h1>
<p>Python 2.7 is effectively a LTS release of Python which represents the end of
the 2.x series and there is still a very large contingent of users whom are
still using Python 2.7 as their primary version. These users, in order to
participate in the wider Python ecosystem, must manually attempt to go out and
find the correct way to bootstrap the packaging tools.</p>
<p>It is the opinion of this PEP that making it as easy as possible for end users
to participate in the wider Python ecosystem is important for 3 primary
reasons:</p>
<ol class="arabic simple">
<li>The Python 2.x to 3.x migration has a number of painpoints that are eased by
a number of third party modules such as six <a class="footnote-reference" href="#six" id="id1">[1]</a>, modernize <a class="footnote-reference" href="#modernize" id="id2">[2]</a>,
or future <a class="footnote-reference" href="#future" id="id3">[3]</a>. However relying on these tools requires that everyone
who uses the project have a tool to install these packages.</li>
<li>In addition to tooling to aid in migration from Python 2.x to 3.x, there are
also a number of modules that are <em>new</em> in Python 3 for which there are
backports available on PyPI. This can also aid in the ability for people
to write 2.x and 3.x compatible software as well as enable them to use some
of the newer features of Python 3 on Python 2.</li>
<li>Users also will need a number of tools in order to create python packages
that conform to the newer standards that are being proposed. Things like
setuptools <a class="footnote-reference" href="#setuptools" id="id4">[4]</a>, Wheel <a class="footnote-reference" href="#wheel" id="id5">[5]</a>, and twine <a class="footnote-reference" href="#twine" id="id6">[6]</a> are enabling
a safer, faster, and more reliable packaging tool chain. These tools can be
difficult for people to use if first they must be told how to go out and
install the package manager.</li>
<li>One of Pythons biggest strengths is in the huge ecosystem of libraries and
projects that have been built on top of it, most of which are distributed
through PyPI. However, in order to benefit from this wide ecosystem
meaningfully requires end users, some of which are going to be new, to make
a decision on which package manager they should get, how to get it, and then
finally actually installing it first.</li>
</ol>
<p>Furthermore, alternative implementations of Python are recognizing the benefits
of <a class="reference external" href="/dev/peps/pep-0453">PEP 453</a> and both PyPy and Jython have plans to backport ensurepip to their
2.7 runtimes.</p>
</div>
<div class="section" id="automatic-invocation">
<h1><a class="toc-backref" href="#id9">Automatic Invocation</a></h1>
<p><a class="reference external" href="/dev/peps/pep-0453">PEP 453</a> has <tt class="docutils literal">ensurepip</tt> automatically invoked by default in the <tt class="docutils literal">Makefile</tt>
and the Windows and OSX Installers. This allowed it to ensure that, by default,
all users would get Python with pip already installed. This PEP however
believes that while this is fine for the Python 2.7 Windows and Mac OS X
installers it is <em>not</em> ok for the Python 2.7 <tt class="docutils literal">Makefile</tt> in general.</p>
<p>The primary consumers of the <tt class="docutils literal">Makefile</tt> are downstream package managers which
distribute Python themselves. These downstream distributors typically do not
want pip to be installed via <tt class="docutils literal">ensurepip</tt> and would prefer that end users
install it with their own package manager. Not invoking <tt class="docutils literal">ensurepip</tt>
automatically from the <tt class="docutils literal">Makefile</tt> would allow these distributors to simply
ignore the fact that <tt class="docutils literal">ensurepip</tt> has been backported and still not end up
with pip installed via it.</p>
<p>The primary consumers of the OSX and Windows installers are end users who are
attempting to install Python on their own machine. There is not a package
manager available where these users can install pip into their Python through
a more supported mechanism. For this reason it is the belief of this PEP that
installing by default on OSX and Windows is the best course of action.</p>
</div>
<div class="section" id="documentation">
<h1><a class="toc-backref" href="#id10">Documentation</a></h1>
<p>As part of this PEP, the updated packaging distribution and installation
guides for Python 3.4 would be backported to Python 2.7.</p>
</div>
<div class="section" id="disabling-ensurepip-by-downstream-distributors">
<h1><a class="toc-backref" href="#id11">Disabling ensurepip by Downstream Distributors</a></h1>
<p>Due to its use in the <tt class="docutils literal">venv</tt> module, downstream distributors cannot disable
the <tt class="docutils literal">ensurepip</tt> module in Python 3.4. However, since Python 2.7 has no such
module it is explicitly allowed for downstream distributors to patch the
<tt class="docutils literal">ensurepip</tt> module to prevent it from installing anything.</p>
<p>If a downstream distributor wishes to disable <tt class="docutils literal">ensurepip</tt> completely in
Python 2.7, they should still at least provide the module and allow
<cite>python -m ensurepip</cite> style invocation. However it should raise errors or
otherwise exit with a non-zero exit code and print out an error on stderr
directing users to what they can/should use instead of <tt class="docutils literal">ensurepip</tt>.</p>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id12">References</a></h1>
<table class="docutils footnote" frame="void" id="six" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/six">six.py</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="modernize" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/modernize">modernize</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="future" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/future">python-future</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="setuptools" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="wheel" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/wheel">Wheel</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="twine" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td><a class="reference external" href="https://pypi.python.org/pypi/twine">twine</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id13">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End: -->
</div>

