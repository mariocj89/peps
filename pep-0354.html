<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">354</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Enumerations in Python</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0354.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Ben Finney &lt;ben+python&#32;&#97;t&#32;benfinney.id.au&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Superseded</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">20-Dec-2005</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">2.6</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">20-Dec-2005</td>
</tr>
<tr class="field"><th class="field-name">Superseded-By:</th><td class="field-body">435</td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#rejection-notice" id="id4">Rejection Notice</a></li>
<li><a class="reference internal" href="#abstract" id="id5">Abstract</a></li>
<li><a class="reference internal" href="#motivation" id="id6">Motivation</a></li>
<li><a class="reference internal" href="#specification" id="id7">Specification</a></li>
<li><a class="reference internal" href="#rationale-other-designs-considered" id="id8">Rationale -- Other designs considered</a><ul>
<li><a class="reference internal" href="#all-in-one-class" id="id9">All in one class</a></li>
<li><a class="reference internal" href="#metaclass-for-creating-enumeration-classes" id="id10">Metaclass for creating enumeration classes</a></li>
<li><a class="reference internal" href="#values-related-to-other-types" id="id11">Values related to other types</a></li>
<li><a class="reference internal" href="#hiding-attributes-of-enumerated-values" id="id12">Hiding attributes of enumerated values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation" id="id13">Implementation</a></li>
<li><a class="reference internal" href="#references-and-footnotes" id="id14">References and Footnotes</a></li>
<li><a class="reference internal" href="#copyright" id="id15">Copyright</a></li>
</ul>
</div>
<div class="section" id="rejection-notice">
<h1><a class="toc-backref" href="#id4">Rejection Notice</a></h1>
<p>This PEP has been rejected.  This doesn't slot nicely into any of the
existing modules (like collections), and the Python standard library
eschews having lots of individual data structures in their own
modules.  Also, the PEP has generated no widespread interest.  For
those who need enumerations, there are cookbook recipes and PyPI
packages that meet these needs.</p>
<p><em>Note: this PEP was superseded by PEP 435, which has been accepted in
May 2013.</em></p>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id5">Abstract</a></h1>
<p>This PEP specifies an enumeration data type for Python.</p>
<p>An enumeration is an exclusive set of symbolic names bound to
arbitrary unique values.  Values within an enumeration can be iterated
and compared, but the values have no inherent relationship to values
outside the enumeration.</p>
</div>
<div class="section" id="motivation">
<h1><a class="toc-backref" href="#id6">Motivation</a></h1>
<p>The properties of an enumeration are useful for defining an immutable,
related set of constant values that have a defined sequence but no
inherent semantic meaning.  Classic examples are days of the week
(Sunday through Saturday) and school assessment grades ('A' through
'D', and 'F').  Other examples include error status values and states
within a defined process.</p>
<p>It is possible to simply define a sequence of values of some other
basic type, such as <tt class="docutils literal">int</tt> or <tt class="docutils literal">str</tt>, to represent discrete
arbitrary values.  However, an enumeration ensures that such values
are distinct from any others, and that operations without meaning
(&quot;Wednesday times two&quot;) are not defined for these values.</p>
</div>
<div class="section" id="specification">
<h1><a class="toc-backref" href="#id7">Specification</a></h1>
<p>An enumerated type is created from a sequence of arguments to the
type's constructor:</p>
<pre class="literal-block">
&gt;&gt;&gt; Weekdays = enum('sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat')
&gt;&gt;&gt; Grades = enum('A', 'B', 'C', 'D', 'F')
</pre>
<p>Enumerations with no values are meaningless.  The exception
<tt class="docutils literal">EnumEmptyError</tt> is raised if the constructor is called with no
value arguments.</p>
<p>The values are bound to attributes of the new enumeration object:</p>
<pre class="literal-block">
&gt;&gt;&gt; today = Weekdays.mon
</pre>
<p>The values can be compared:</p>
<pre class="literal-block">
&gt;&gt;&gt; if today == Weekdays.fri:
...     print &quot;Get ready for the weekend&quot;
</pre>
<p>Values within an enumeration cannot be meaningfully compared except
with values from the same enumeration.  The comparison operation
functions return <tt class="docutils literal">NotImplemented</tt> <a class="footnote-reference" href="#cmp-notimplemented" id="id1">[1]</a> when a
value from an enumeration is compared against any value not from the
same enumeration or of a different type:</p>
<pre class="literal-block">
&gt;&gt;&gt; gym_night = Weekdays.wed
&gt;&gt;&gt; gym_night.__cmp__(Weekdays.mon)
1
&gt;&gt;&gt; gym_night.__cmp__(Weekdays.wed)
0
&gt;&gt;&gt; gym_night.__cmp__(Weekdays.fri)
-1
&gt;&gt;&gt; gym_night.__cmp__(23)
NotImplemented
&gt;&gt;&gt; gym_night.__cmp__(&quot;wed&quot;)
NotImplemented
&gt;&gt;&gt; gym_night.__cmp__(Grades.B)
NotImplemented
</pre>
<p>This allows the operation to succeed, evaluating to a boolean value:</p>
<pre class="literal-block">
&gt;&gt;&gt; gym_night = Weekdays.wed
&gt;&gt;&gt; gym_night &lt; Weekdays.mon
False
&gt;&gt;&gt; gym_night &lt; Weekdays.wed
False
&gt;&gt;&gt; gym_night &lt; Weekdays.fri
True
&gt;&gt;&gt; gym_night &lt; 23
False
&gt;&gt;&gt; gym_night &gt; 23
True
&gt;&gt;&gt; gym_night &gt; &quot;wed&quot;
True
&gt;&gt;&gt; gym_night &gt; Grades.B
True
</pre>
<p>Coercing a value from an enumeration to a <tt class="docutils literal">str</tt> results in the
string that was specified for that value when constructing the
enumeration:</p>
<pre class="literal-block">
&gt;&gt;&gt; gym_night = Weekdays.wed
&gt;&gt;&gt; str(gym_night)
'wed'
</pre>
<p>The sequence index of each value from an enumeration is exported as an
integer via that value's <tt class="docutils literal">index</tt> attribute:</p>
<pre class="literal-block">
&gt;&gt;&gt; gym_night = Weekdays.wed
&gt;&gt;&gt; gym_night.index
3
</pre>
<p>An enumeration can be iterated, returning its values in the sequence
they were specified when the enumeration was created:</p>
<pre class="literal-block">
&gt;&gt;&gt; print [str(day) for day in Weekdays]
['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat']
</pre>
<p>Values from an enumeration are hashable, and can be used as dict
keys:</p>
<pre class="literal-block">
&gt;&gt;&gt; plans = {}
&gt;&gt;&gt; plans[Weekdays.sat] = &quot;Feed the horse&quot;
</pre>
<p>The normal usage of enumerations is to provide a set of possible
values for a data type, which can then be used to map to other
information about the values:</p>
<pre class="literal-block">
&gt;&gt;&gt; for report_grade in Grades:
...     report_students[report_grade] = \
...         [s for s in students if students.grade == report_grade]
</pre>
</div>
<div class="section" id="rationale-other-designs-considered">
<h1><a class="toc-backref" href="#id8">Rationale -- Other designs considered</a></h1>
<div class="section" id="all-in-one-class">
<h2><a class="toc-backref" href="#id9">All in one class</a></h2>
<p>Some implementations have the enumeration and its values all as
attributes of a single object or class.</p>
<p>This PEP specifies a design where the enumeration is a container, and
the values are simple comparables.  It was felt that attempting to
place all the properties of enumeration within a single class
complicates the design without apparent benefit.</p>
</div>
<div class="section" id="metaclass-for-creating-enumeration-classes">
<h2><a class="toc-backref" href="#id10">Metaclass for creating enumeration classes</a></h2>
<p>The enumerations specified in this PEP are instances of an <tt class="docutils literal">enum</tt>
type.  Some alternative designs implement each enumeration as its own
class, and a metaclass to define common properties of all
enumerations.</p>
<p>One motivation for having a class (rather than an instance) for each
enumeration is to allow subclasses of enumerations, extending and
altering an existing enumeration.  A class, though, implies that
instances of that class will be created; it is difficult to imagine
what it means to have separate instances of a &quot;days of the week&quot;
class, where each instance contains all days.  This usually leads to
having each class follow the Singleton pattern, further complicating
the design.</p>
<p>In contrast, this PEP specifies enumerations that are not expected to
be extended or modified.  It is, of course, possible to create a new
enumeration from the string values of an existing one, or even
subclass the <tt class="docutils literal">enum</tt> type if desired.</p>
</div>
<div class="section" id="values-related-to-other-types">
<h2><a class="toc-backref" href="#id11">Values related to other types</a></h2>
<p>Some designs express a strong relationship to some other value, such
as a particular integer or string, for each enumerated value.</p>
<p>This results in using such values in contexts where the enumeration
has no meaning, and unnecessarily complicates the design.  The
enumerated values specified in this PEP export the values used to
create them, and can be compared for equality with any other value,
but sequence comparison with values outside the enumeration is
explicitly not implemented.</p>
</div>
<div class="section" id="hiding-attributes-of-enumerated-values">
<h2><a class="toc-backref" href="#id12">Hiding attributes of enumerated values</a></h2>
<p>A previous design had the enumerated values hiding as much as possible
about their implementation, to the point of not exporting the string
key and sequence index.</p>
<p>The design in this PEP acknowledges that programs will often find it
convenient to know the enumerated value's enumeration type, sequence
index, and string key specified for the value.  These are exported by
the enumerated value as attributes.</p>
</div>
</div>
<div class="section" id="implementation">
<h1><a class="toc-backref" href="#id13">Implementation</a></h1>
<p>This design is based partly on a recipe <a class="footnote-reference" href="#enum-recipe" id="id2">[2]</a> from the
Python Cookbook.</p>
<p>The PyPI package <tt class="docutils literal">enum</tt> <a class="footnote-reference" href="#enum-package" id="id3">[3]</a> provides a Python
implementation of the data types described in this PEP.</p>
</div>
<div class="section" id="references-and-footnotes">
<h1><a class="toc-backref" href="#id14">References and Footnotes</a></h1>
<table class="docutils footnote" frame="void" id="cmp-notimplemented" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The <tt class="docutils literal">NotImplemented</tt> return value from comparison operations
signals the Python interpreter to attempt alternative comparisons
or other fallbacks.
&lt;<a class="reference external" href="http://docs.python.org/reference/datamodel.html#the-standard-type-hierarchy">http://docs.python.org/reference/datamodel.html#the-standard-type-hierarchy</a>&gt;</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="enum-recipe" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>&quot;First Class Enums in Python&quot;, Zoran Isailovski,
Python Cookbook recipe 413486
&lt;<a class="reference external" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/413486">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/413486</a>&gt;</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="enum-package" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>Python Package Index, package <tt class="docutils literal">enum</tt>
&lt;<a class="reference external" href="http://cheeseshop.python.org/pypi/enum/">http://cheeseshop.python.org/pypi/enum/</a>&gt;</td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id15">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
</div>

