<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">6</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Bug Fix Releases</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0006.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">aahz&#32;&#97;t&#32;pythoncraft.com (Aahz), anthony&#32;&#97;t&#32;interlink.com.au (Anthony Baxter)</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Active</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Process</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">15-Mar-2001</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">15-Mar-2001 18-Apr-2001 19-Aug-2004</td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id7">Abstract</a></li>
<li><a class="reference internal" href="#motivation" id="id8">Motivation</a></li>
<li><a class="reference internal" href="#prohibitions" id="id9">Prohibitions</a></li>
<li><a class="reference internal" href="#not-quite-prohibitions" id="id10">Not-Quite-Prohibitions</a></li>
<li><a class="reference internal" href="#applicability-of-prohibitions" id="id11">Applicability of Prohibitions</a></li>
<li><a class="reference internal" href="#helping-the-bug-fix-releases-happen" id="id12">Helping the Bug Fix Releases Happen</a></li>
<li><a class="reference internal" href="#version-numbers" id="id13">Version Numbers</a></li>
<li><a class="reference internal" href="#procedure" id="id14">Procedure</a></li>
<li><a class="reference internal" href="#patch-czar-history" id="id15">Patch Czar History</a></li>
<li><a class="reference internal" href="#history" id="id16">History</a></li>
<li><a class="reference internal" href="#references" id="id17">References</a></li>
<li><a class="reference internal" href="#copyright" id="id18">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id7">Abstract</a></h1>
<p>Python has historically had only a single fork of development, with
releases having the combined purpose of adding new features and
delivering bug fixes (these kinds of releases will be referred to as
&quot;major releases&quot;).  This PEP describes how to fork off maintenance, or
bug fix, releases of old versions for the primary purpose of fixing
bugs.</p>
<p>This PEP is not, repeat NOT, a guarantee of the existence of bug fix
releases; it only specifies a procedure to be followed if bug fix
releases are desired by enough of the Python community willing to do
the work.</p>
</div>
<div class="section" id="motivation">
<h1><a class="toc-backref" href="#id8">Motivation</a></h1>
<p>With the move to SourceForge, Python development has accelerated.
There is a sentiment among part of the community that there was too
much acceleration, and many people are uncomfortable with upgrading to
new versions to get bug fixes when so many features have been added,
sometimes late in the development cycle.</p>
<p>One solution for this issue is to maintain the previous major release,
providing bug fixes until the next major release.  This should make
Python more attractive for enterprise development, where Python may
need to be installed on hundreds or thousands of machines.</p>
</div>
<div class="section" id="prohibitions">
<h1><a class="toc-backref" href="#id9">Prohibitions</a></h1>
<p>Bug fix releases are required to adhere to the following restrictions:</p>
<ol class="arabic simple">
<li>There must be zero syntax changes.  All <cite>.pyc</cite> and <cite>.pyo</cite> files must
work (no regeneration needed) with all bugfix releases forked off
from a major release.</li>
<li>There must be zero pickle changes.</li>
<li>There must be no incompatible C API changes.  All extensions must
continue to work without recompiling in all bugfix releases in the
same fork as a major release.</li>
</ol>
<p>Breaking any of these prohibitions requires a BDFL proclamation (and a
prominent warning in the release notes).</p>
</div>
<div class="section" id="not-quite-prohibitions">
<h1><a class="toc-backref" href="#id10">Not-Quite-Prohibitions</a></h1>
<p>Where possible, bug fix releases should also:</p>
<ol class="arabic simple">
<li>Have no new features. The purpose of a bug fix release is to fix
bugs, not add the latest and greatest whizzo feature from the HEAD
of the CVS root.</li>
<li>Be a painless upgrade. Users should feel confident that an upgrade
from 2.x.y to 2.x.(y+1) will not break their running systems. This
means that, unless it is necessary to fix a bug, the standard
library should not change behavior, or worse yet, APIs.</li>
</ol>
</div>
<div class="section" id="applicability-of-prohibitions">
<h1><a class="toc-backref" href="#id11">Applicability of Prohibitions</a></h1>
<p>The above prohibitions and not-quite-prohibitions apply both for a
final release to a bugfix release (for instance, 2.4 to 2.4.1) and for
one bugfix release to the next in a series (for instance 2.4.1 to
2.4.2).</p>
<p>Following the prohibitions listed in this PEP should help keep the
community happy that a bug fix release is a painless and safe upgrade.</p>
</div>
<div class="section" id="helping-the-bug-fix-releases-happen">
<h1><a class="toc-backref" href="#id12">Helping the Bug Fix Releases Happen</a></h1>
<p>Here's a few pointers on helping the bug fix release process along.</p>
<ol class="arabic simple">
<li>Backport bug fixes. If you fix a bug, and it seems appropriate,
port it to the CVS branch for the current bug fix release. If
you're unwilling or unable to backport it yourself, make a note in
the commit message, with words like 'Bugfix candidate' or
'Backport candidate'.</li>
<li>If you're not sure, ask. Ask the person managing the current bug
fix releases if they think a particular fix is appropriate.</li>
<li>If there's a particular bug you'd particularly like fixed in a bug
fix release, jump up and down and try to get it done. Do not wait
until 48 hours before a bug fix release is due, and then start
asking for bug fixes to be included.</li>
</ol>
</div>
<div class="section" id="version-numbers">
<h1><a class="toc-backref" href="#id13">Version Numbers</a></h1>
<p>Starting with Python 2.0, all major releases are required to have a
version number of the form X.Y; bugfix releases will always be of the
form X.Y.Z.</p>
<p>The current major release under development is referred to as release
N; the just-released major version is referred to as N-1.</p>
<p>In CVS, the bug fix releases happen on a branch. For release 2.x, the
branch is named 'release2x-maint'. For example, the branch for the 2.3
maintenance releases is release23-maint</p>
</div>
<div class="section" id="procedure">
<h1><a class="toc-backref" href="#id14">Procedure</a></h1>
<p>The process for managing bugfix releases is modeled in part on the Tcl
system <a class="footnote-reference" href="#id4" id="id1">[1]</a>.</p>
<p>The Patch Czar is the counterpart to the BDFL for bugfix releases.
However, the BDFL and designated appointees retain veto power over
individual patches. A Patch Czar might only be looking after a single
branch of development - it's quite possible that a different person
might be maintaining the 2.3.x and the 2.4.x releases.</p>
<p>As individual patches get contributed to the current trunk of CVS,
each patch committer is requested to consider whether the patch is a
bug fix suitable for inclusion in a bugfix release. If the patch is
considered suitable, the committer can either commit the release to
the maintenance branch, or else mark the patch in the commit message.</p>
<p>In addition, anyone from the Python community is free to suggest
patches for inclusion. Patches may be submitted specifically for
bugfix releases; they should follow the guidelines in <a class="reference external" href="/dev/peps/pep-0003">PEP 3</a> <a class="footnote-reference" href="#id5" id="id2">[2]</a>. In
general, though, it's probably better that a bug in a specific release
also be fixed on the HEAD as well as the branch.</p>
<p>The Patch Czar decides when there are a sufficient number of patches
to warrant a release. The release gets packaged up, including a
Windows installer, and made public. If any new bugs are found, they
must be fixed immediately and a new bugfix release publicized (with an
incremented version number). For the 2.3.x cycle, the Patch Czar
(Anthony) has been trying for a release approximately every six
months, but this should not be considered binding in any way on any
future releases.</p>
<p>Bug fix releases are expected to occur at an interval of roughly six
months. This is only a guideline, however - obviously, if a major bug
is found, a bugfix release may be appropriate sooner. In general, only
the N-1 release will be under active maintenance at any time. That is,
during Python 2.4's development, Python 2.3 gets bugfix releases. If,
however, someone qualified wishes to continue the work to maintain an
older release, they should be encouraged.</p>
</div>
<div class="section" id="patch-czar-history">
<h1><a class="toc-backref" href="#id15">Patch Czar History</a></h1>
<p>Anthony Baxter is the Patch Czar for 2.3.1 through 2.3.4.</p>
<p>Barry Warsaw is the Patch Czar for 2.2.3.</p>
<p>Guido van Rossum is the Patch Czar for 2.2.2.</p>
<p>Michael Hudson is the Patch Czar for 2.2.1.</p>
<p>Anthony Baxter is the Patch Czar for 2.1.2 and 2.1.3.</p>
<p>Thomas Wouters is the Patch Czar for 2.1.1.</p>
<p>Moshe Zadka is the Patch Czar for 2.0.1.</p>
</div>
<div class="section" id="history">
<h1><a class="toc-backref" href="#id16">History</a></h1>
<p>This PEP started life as a proposal on comp.lang.python.  The original
version suggested a single patch for the N-1 release to be released
concurrently with the N release.  The original version also argued for
sticking with a strict bug fix policy.</p>
<p>Following feedback from the BDFL and others, the draft PEP was written
containing an expanded bugfix release cycle that permitted any
previous major release to obtain patches and also relaxed the strict
bug fix requirement (mainly due to the example of <a class="reference external" href="/dev/peps/pep-0235">PEP 235</a> <a class="footnote-reference" href="#id6" id="id3">[3]</a>, which
could be argued as either a bug fix or a feature).</p>
<p>Discussion then mostly moved to python-dev, where BDFL finally issued
a proclamation basing the Python bugfix release process on Tcl's,
which essentially returned to the original proposal in terms of being
only the N-1 release and only bug fixes, but allowing multiple bugfix
releases until release N is published.</p>
<p>Anthony Baxter then took this PEP and revised it, based on lessons
from the 2.3 release cycle.</p>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id17">References</a></h1>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://www.tcl.tk/cgi-bin/tct/tip/28.html">http://www.tcl.tk/cgi-bin/tct/tip/28.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="/dev/peps/pep-0003">PEP 3</a>, Guidelines for Handling Bug Reports, Hylton
(<a class="reference external" href="http://www.python.org/dev/peps/pep-0003/">http://www.python.org/dev/peps/pep-0003/</a>)</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="/dev/peps/pep-0235">PEP 235</a>, Import on Case-Insensitive Platforms, Peters
(<a class="reference external" href="http://www.python.org/dev/peps/pep-0235/">http://www.python.org/dev/peps/pep-0235/</a>)</td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id18">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
End: -->
</div>

