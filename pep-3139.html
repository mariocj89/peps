<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">3139</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Cleaning out sys and the &quot;interpreter&quot; module</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-3139.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Benjamin Peterson &lt;benjamin&#32;&#97;t&#32;python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Rejected</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">4-April-2008</td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">3.0</td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#rejection-notice" id="id6">Rejection Notice</a></li>
<li><a class="reference internal" href="#abstract" id="id7">Abstract</a></li>
<li><a class="reference internal" href="#rationale" id="id8">Rationale</a></li>
<li><a class="reference internal" href="#specification" id="id9">Specification</a></li>
<li><a class="reference internal" href="#transition-plan" id="id10">Transition Plan</a></li>
<li><a class="reference internal" href="#open-issues" id="id11">Open Issues</a><ul>
<li><a class="reference internal" href="#what-should-move" id="id12">What should move?</a><ul>
<li><a class="reference internal" href="#dont-write-bytecode" id="id13">dont_write_bytecode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#move-to-some-to-imp" id="id14">Move to some to imp?</a></li>
<li><a class="reference internal" href="#naming" id="id15">Naming</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references" id="id16">References</a></li>
<li><a class="reference internal" href="#copyright" id="id17">Copyright</a></li>
</ul>
</div>
<div class="section" id="rejection-notice">
<h1><a class="toc-backref" href="#id6">Rejection Notice</a></h1>
<p>Guido's -0.5 put an end to this PEP.  See
<a class="reference external" href="https://mail.python.org/pipermail/python-3000/2008-April/012977.html">https://mail.python.org/pipermail/python-3000/2008-April/012977.html</a>.</p>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id7">Abstract</a></h1>
<p>This PEP proposes a new low-level module for CPython-specific interpreter
functions in order to clean out the sys module and separate general Python
functionality from implementation details.</p>
</div>
<div class="section" id="rationale">
<h1><a class="toc-backref" href="#id8">Rationale</a></h1>
<p>The sys module currently contains functions and data that can be put into two
major groups:</p>
<ol class="arabic simple">
<li>Data and functions that are available in all Python implementations and deal
with the general running of a Python virtual machine.<ul>
<li>argv</li>
<li>byteorder</li>
<li>path, path_hooks, meta_path, path_importer_cache, and modules</li>
<li>copyright, hexversion, version, and version_info</li>
<li>displayhook, __displayhook__</li>
<li>excepthook, __excepthook__, exc_info, and exc_clear</li>
<li>exec_prefix and prefix</li>
<li>executable</li>
<li>exit</li>
<li>flags, py3kwarning, dont_write_bytecode, and warn_options</li>
<li>getfilesystemencoding</li>
<li>get/setprofile</li>
<li>get/settrace, call_tracing</li>
<li>getwindowsversion</li>
<li>maxint and maxunicode</li>
<li>platform</li>
<li>ps1 and ps2</li>
<li>stdin, stderr, stdout, __stdin__, __stderr__, __stdout__</li>
<li>tracebacklimit</li>
</ul>
</li>
<li>Data and functions that affect the CPython interpreter.<ul>
<li>get/setrecursionlimit</li>
<li>get/setcheckinterval</li>
<li>_getframe and _current_frame</li>
<li>getrefcount</li>
<li>get/setdlopenflags</li>
<li>settscdumps</li>
<li>api_version</li>
<li>winver</li>
<li>dllhandle</li>
<li>float_info</li>
<li>_compact_freelists</li>
<li>_clear_type_cache</li>
<li>subversion</li>
<li>builtin_module_names</li>
<li>callstats</li>
<li>intern</li>
</ul>
</li>
</ol>
<p>The second collections of items has been steadily increasing over the years
causing clutter in sys.  Guido has even said he doesn't recognize some of things
in it <a class="footnote-reference" href="#bug-1522" id="id1">[1]</a>!</p>
<p>Moving these items off to another module would send a clear message to
other Python implementations about what functions need and need not be
implemented.</p>
<p>It has also been proposed that the contents of types module be distributed
across the standard library <a class="footnote-reference" href="#types-removal" id="id2">[2]</a>; the interpreter module would
provide an excellent resting place for internal types like frames and code
objects.</p>
</div>
<div class="section" id="specification">
<h1><a class="toc-backref" href="#id9">Specification</a></h1>
<p>A new builtin module named &quot;interpreter&quot; (see <a class="reference internal" href="#naming">Naming</a>) will be added.</p>
<p>The second list of items above will be split into the stdlib as follows:</p>
<dl class="docutils">
<dt>The interpreter module</dt>
<dd><ul class="first last simple">
<li>get/setrecursionlimit</li>
<li>get/setcheckinterval</li>
<li>_getframe and _current_frame</li>
<li>get/setdlopenflags</li>
<li>settscdumps</li>
<li>api_version</li>
<li>winver</li>
<li>dllhandle</li>
<li>float_info</li>
<li>_clear_type_cache</li>
<li>subversion</li>
<li>builtin_module_names</li>
<li>callstats</li>
<li>intern</li>
</ul>
</dd>
<dt>The gc module:</dt>
<dd><ul class="first last simple">
<li>getrefcount</li>
<li>_compact_freelists</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="transition-plan">
<h1><a class="toc-backref" href="#id10">Transition Plan</a></h1>
<p>Once implemented in 3.x, the interpreter module will be back-ported to 2.6.
Py3k warnings will be added to the sys functions it replaces.</p>
</div>
<div class="section" id="open-issues">
<h1><a class="toc-backref" href="#id11">Open Issues</a></h1>
<div class="section" id="what-should-move">
<h2><a class="toc-backref" href="#id12">What should move?</a></h2>
<div class="section" id="dont-write-bytecode">
<h3><a class="toc-backref" href="#id13">dont_write_bytecode</a></h3>
<p>Some believe that the writing of bytecode is an implementation detail and should
be moved <a class="footnote-reference" href="#bytecode-issue" id="id3">[3]</a>.  The counterargument is that all current, complete
Python implementations do write some sort of bytecode, so it is valuable to be
able to disable it.  Also, if it is moved, some wish to put it in the imp
module.</p>
</div>
</div>
<div class="section" id="move-to-some-to-imp">
<h2><a class="toc-backref" href="#id14">Move to some to imp?</a></h2>
<p>It was noted that dont_write_bytecode or maybe builtin_module_names might fit
nicely in the imp module.</p>
</div>
<div class="section" id="naming">
<h2><a class="toc-backref" href="#id15">Naming</a></h2>
<p>The author proposes the name &quot;interpreter&quot; for the new module.  &quot;pyvm&quot; has also
been suggested <a class="footnote-reference" href="#pyvm-name" id="id4">[4]</a>.  The name &quot;cpython&quot; was well liked
<a class="footnote-reference" href="#cpython-name" id="id5">[5]</a>.</p>
</div>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id16">References</a></h1>
<table class="docutils footnote" frame="void" id="bug-1522" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://bugs.python.org/issue1522">http://bugs.python.org/issue1522</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="types-removal" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="https://mail.python.org/pipermail/stdlib-sig/2008-April/000172.html">https://mail.python.org/pipermail/stdlib-sig/2008-April/000172.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="bytecode-issue" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="https://mail.python.org/pipermail/stdlib-sig/2008-April/000217.html">https://mail.python.org/pipermail/stdlib-sig/2008-April/000217.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pyvm-name" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="https://mail.python.org/pipermail/python-3000/2007-November/011351.html">https://mail.python.org/pipermail/python-3000/2007-November/011351.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="cpython-name" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><a class="reference external" href="https://mail.python.org/pipermail/stdlib-sig/2008-April/000223.html">https://mail.python.org/pipermail/stdlib-sig/2008-April/000223.html</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id17">Copyright</a></h1>
<blockquote>
This document has been placed in the public domain.</blockquote>
<p>Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End:</p>
</div>

